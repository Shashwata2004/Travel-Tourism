<?xml version="1.0" encoding="UTF-8"?>

<!-- Reimagined packages page with animated background blobs, glassy navbar,
     and floating travel cards. Controllers inject cards into the FlowPane. -->
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.SVGPath?>

<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.travel.frontend.controller.PackagesController"
           stylesheets="@/css/login.css,@/css/packages.css"
           styleClass="packagesRoot">
    <!-- Animated blurred blobs -->
    <children>
        <Pane fx:id="blobLayer" styleClass="blobLayer">
            <children>
                <Circle fx:id="blobA" centerX="160" centerY="160" radius="180" styleClass="blobA"/>
                <Circle fx:id="blobB" centerX="840" centerY="520" radius="200" styleClass="blobB"/>
                <Circle fx:id="blobC" centerX="1180" centerY="240" radius="180" styleClass="blobC"/>
            </children>
        </Pane>

        <VBox spacing="18" fillWidth="true" styleClass="packagesContent">
            <!-- Navbar -->
            <fx:include source="navbar.fxml" fx:id="navbar"/>

            <ScrollPane fitToWidth="true" vbarPolicy="NEVER" hbarPolicy="NEVER" styleClass="pkgScroll">
                <content>
                    <VBox spacing="18" alignment="TOP_LEFT">
                        <VBox spacing="6" styleClass="headerBlock">
                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Pane styleClass="accentBar"/>
                                <Label text="Featured Packages" styleClass="sectionTitle"/>
                            </HBox>
                            <Label text="Discover breathtaking destinations and create unforgettable memories" styleClass="sectionSubtitle"/>
                        </VBox>

                        <FlowPane fx:id="listContainer"
                                  hgap="18" vgap="18"
                                  prefWrapLength="1200"
                                  alignment="TOP_LEFT"
                                  styleClass="cardsGrid"/>
                    </VBox>
                </content>
            </ScrollPane>
        </VBox>

        <!-- Fixed top-right reload -->
        <Button onAction="#reloadPackages"
                styleClass="pageReloadBtn"
                StackPane.alignment="TOP_RIGHT">
            <graphic>
                <HBox alignment="CENTER" spacing="6">
                    <SVGPath styleClass="reloadIcon"
                             content="M12 5v4l3-3m-6 0 3 3V5a7 7 0 1 1-7 7h2a5 5 0 1 0 5-5z"/>
                    <Label text="Reload" styleClass="reloadLabel"/>
                </HBox>
            </graphic>
            <StackPane.margin>
                <Insets top="112" right="18" bottom="0" left="0"/>
            </StackPane.margin>
        </Button>
    </children>
</StackPane>
